suite: Unit tests
templates:
  - templates/v2/ingress.yaml
tests:
  - it: should set annotations if given
    set:
      ingressAnnotations:
        traefik.ingress.kubernetes.io/router-tls: "true"
        external-dns.alpha.kubernetes.io/exclude: "true"
    asserts:
      - equal:
          path: metadata.annotations["traefik.ingress.kubernetes.io/router-tls"]
          value: "true"
      - equal:
          path: metadata.annotations["external-dns.alpha.kubernetes.io/exclude"]
          value: "true"