---
# Source: library/templates/deployment-tests.yaml
apiVersion: batch/v1beta1
kind: CronJob
metadata:
  name: RELEASE-NAME-functionaltestscron-job
  labels:
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/instance: RELEASE-NAME-functionaltestscron
    helm.sh/chart: library-0.1.0
    app.kubernetes.io/name: release-name-library-functionaltestscron
spec:
  schedule: "30 0/6 * * *"
  jobTemplate:
    spec:
      backoffLimit: 2
      template:
        metadata:
          labels:
            app.kubernetes.io/name: release-name-library-functionaltestscron
        spec:
          
          securityContext:
            runAsUser: 1000
            fsGroup: 1000
          restartPolicy: Never
          serviceAccountName: tests-service-account
          containers:
            - name: tests
              image: hmctspublic.azurecr.io/spring-boot/template
              securityContext:
                allowPrivilegeEscalation: false
              resources:
                requests:
                  memory: "256Mi"
                  cpu: "100m"
                limits:
                  memory: "2048Mi"
                  cpu: "1000m"
